// MruOneScenMVC.h: interface for the CMruOneScenViewport class.
//
//////////////////////////////////////////////////////////////////////

#if !defined(AFX_MRUONESCENMVC_H__97BD809A_E0D9_11D2_85DF_00104B2D39AC__INCLUDED_)
#define AFX_MRUONESCENMVC_H__97BD809A_E0D9_11D2_85DF_00104B2D39AC__INCLUDED_

#if _MSC_VER > 1000
#pragma once
#endif // _MSC_VER > 1000


class CMessageBus;

class CMruOneScenViewport : public MvcViewport  
{
	////////////////////////////////////////////////////////////////
	//	
	//	Viewport to display one scenario type and list of scenarios
	//	
	////////////////////////////////////////////////////////////////


	////////////////////////////////////////////////////////////////
	//	
	//	Typedefs, enums, etc.
	//	
	////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////
	//	
	//	Data
	//	
	////////////////////////////////////////////////////////////////

protected:

	CComboBox m_cbCasterNum;
	CComboBox m_cbScenList;
	CComboBox m_cbStrings;
		//  different approach:  Attach to the controls on the view


	////////////////////////////////////////////////////////////////
	//	
	//	Accessors
	//	
	////////////////////////////////////////////////////////////////
	
public:

	CComboBox* CBCasterNum()
	{	return &m_cbCasterNum;	}

	CComboBox* CBScenList()
	{	return &m_cbScenList;	}

	CComboBox* CBStrings()
	{	return &m_cbStrings;	}


	BOOL SetCBCasterNum  ( UINT nId, CWnd* pParent );
	BOOL SetCBScenList  ( UINT nId, CWnd* pParent );
	BOOL SetCBStrings   ( UINT nId, CWnd* pParent );
 

	////////////////////////////////////////////////////////////////
	//	
	//	C-tors, d-tor
	//	
	////////////////////////////////////////////////////////////////

public:

	//  all the supplied c-tors work
	
	virtual ~CMruOneScenViewport();


	////////////////////////////////////////////////////////////////
	//	
	//	Operators
	//	
	////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////
	//	
	//	Operations
	//	
	////////////////////////////////////////////////////////////////

public:

	CMessageBus* GetMyModel();
	virtual BOOL CreateController();
	virtual void OnInitialUpdate();
	virtual BOOL OnCreate();
	void OnUpdate(IMvcSubject* pSubject, IMvcMessage *pMsg);


	////////////////////////////////////////////////////////////////
	//	
	//	Implementation
	//	
	////////////////////////////////////////////////////////////////


	void InitializeCasterNumBox();
	void InitializeListBox();
	void InitializeStringsBox();
	void UpdateCasterNumBox();
	void UpdateListBox();
	void UpdateStringsBox();
	void SetCasterNumBoxSel();
	void SetListBoxSel();
	void SetStringsBoxSel();
};


class CMruOneScenController : public MvcController  
{
	////////////////////////////////////////////////////////////////
	//	
	//	
	//	
	////////////////////////////////////////////////////////////////


	////////////////////////////////////////////////////////////////
	//	
	//	Typedefs, enums, etc.
	//	
	////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////
	//	
	//	Data
	//	
	////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////
	//	
	//	Accessors
	//	
	////////////////////////////////////////////////////////////////

public:

	CMessageBus* GetMyModel();

	CMruOneScenViewport* GetViewport()
	{	return dynamic_cast<CMruOneScenViewport*>(MvcController::GetViewport());	}


	////////////////////////////////////////////////////////////////
	//	
	//	C-tors, d-tor
	//	
	////////////////////////////////////////////////////////////////

public:

	//  All the defaults work.


	////////////////////////////////////////////////////////////////
	//	
	//	Operators
	//	
	////////////////////////////////////////////////////////////////

	////////////////////////////////////////////////////////////////
	//	
	//	Operations
	//	
	////////////////////////////////////////////////////////////////

public:

	BOOL OnCmdMsg(UINT nID, int nCode, void* pExtra, AFX_CMDHANDLERINFO* pHandlerInfo);

	////////////////////////////////////////////////////////////////
	//	
	//	Implementation
	//	
	////////////////////////////////////////////////////////////////


	// Generated message map functions
protected:

	//{{AFX_MSG(CMruOneScenController)
	afx_msg void OnViewScenarios();
	//}}AFX_MSG
	DECLARE_MESSAGE_MAP()


	afx_msg void OnCasterNumChange();
	afx_msg void OnScenChange();
	afx_msg void OnStringChange();
};

#endif // !defined(AFX_MRUONESCENMVC_H__97BD809A_E0D9_11D2_85DF_00104B2D39AC__INCLUDED_)
